import i18n from 'i18next'
import LanguageDetector from 'i18next-browser-languagedetector'
import { initReactI18next } from 'react-i18next'

const resources = {
  'zh-CN': {
    translation: {
      brand: 'Maintainer Firewall',
      nav: {
        main: '主导航',
        dashboard: '仪表盘',
        events: '事件',
        alerts: '告警',
        rules: '规则',
        failures: '失败队列',
        audit: '审计日志',
      },
      common: {
        loading: '加载中...',
        applyFilters: '应用筛选',
        prev: '上一页',
        next: '下一页',
        pageSummary: '页码: {{current}} / {{total}} · 总数: {{count}}',
        empty: '当前筛选条件下暂无数据',
        error: '错误: {{message}}',
      },
      login: {
        title: '登录控制台',
        subtitle: '使用管理员账号登录 Maintainer Firewall。',
        username: '用户名',
        usernamePlaceholder: '请输入用户名',
        password: '密码',
        passwordPlaceholder: '请输入密码',
        submit: '登录',
        submitting: '登录中...',
        failed: '登录失败：{{message}}',
      },
      dashboard: {
        title: '仪表盘',
        subtitle: '服务状态总览与基础健康检查。',
        apiHealth: 'API 健康状态',
        cards: {
          events24h: '24小时事件数',
          alerts24h: '24小时告警数',
          failures24h: '24小时失败数',
          successRate24h: 'Webhook 成功率(24h)',
          p95Latency24h: '处理耗时 P95 (ms)',
        },
        trendTitle: '24小时趋势',
      },
      events: {
        title: '事件',
        subtitle: '查看 webhook 事件流并按条件筛选。',
        filters: {
          eventType: '事件类型',
          action: '动作',
          eventTypePlaceholder: 'issues / pull_request',
          actionPlaceholder: 'opened / edited / closed',
        },
        table: {
          id: 'ID',
          type: '类型',
          action: '动作',
          repository: '仓库',
          sender: '发送者',
          receivedAt: '接收时间',
        },
      },
      alerts: {
        title: '告警',
        subtitle: '查看规则命中后的建议动作与原因。',
        filters: {
          eventType: '事件类型',
          action: '动作',
          suggestionType: '建议类型',
          eventTypePlaceholder: 'issues / pull_request',
          actionPlaceholder: 'opened / edited / closed',
          suggestionTypePlaceholder: 'label / comment',
        },
        table: {
          delivery: '投递ID',
          type: '类型',
          action: '动作',
          suggestionType: '建议类型',
          suggestionValue: '建议值',
          ruleMatched: '命中规则',
          reason: '原因',
          repository: '仓库',
          sender: '发送者',
          createdAt: '创建时间',
          manageRule: '规则处理',
          goRules: '去规则页处理',
        },
      },
      failures: {
        title: '失败队列',
        subtitle: '查看自动动作执行失败记录，定位重试与异常原因。',
      },
      audit: {
        title: '审计日志',
        subtitle: '追踪规则变更与关键操作，支持按操作者/动作筛选。',
      },
      rules: {
        title: '规则',
        subtitle: '管理事件匹配规则并控制是否生效。',
        create: {
          title: '新建规则',
          eventType: '事件类型',
          keyword: '关键词',
          keywordPlaceholder: '例如：urgent',
          suggestionType: '建议类型',
          suggestionValue: '建议值',
          suggestionValuePlaceholder: '例如：P0 或请补充复现步骤',
          reason: '触发原因',
          reasonPlaceholder: '例如：高优先级问题优先处理',
          active: '创建后立即启用',
          submit: '创建规则',
          creating: '创建中...',
        },
        filters: {
          eventType: '事件类型',
          eventTypePlaceholder: 'issues / pull_request',
          keyword: '关键词',
          keywordPlaceholder: '按关键词模糊匹配',
          activeOnly: '仅看启用中',
          prefilledHint: '已根据告警自动带入筛选条件，可直接调整规则。',
        },
        table: {
          eventType: '事件类型',
          keyword: '关键词',
          suggestionType: '建议类型',
          suggestionValue: '建议值',
          reason: '触发原因',
          active: '状态',
          createdAt: '创建时间',
          action: '操作',
          enable: '启用',
          disable: '停用',
          updating: '更新中...',
        },
        status: {
          active: '启用中',
          inactive: '已停用',
        },
      },
      lang: {
        label: '语言',
        zhCN: '中文',
        en: 'English',
      },
    },
  },
  en: {
    translation: {
      brand: 'Maintainer Firewall',
      nav: {
        main: 'Main Navigation',
        dashboard: 'Dashboard',
        events: 'Events',
        alerts: 'Alerts',
        rules: 'Rules',
        failures: 'Failures',
        audit: 'Audit Logs',
      },
      common: {
        loading: 'Loading...',
        applyFilters: 'Apply Filters',
        prev: 'Prev',
        next: 'Next',
        pageSummary: 'page: {{current}} / {{total}} · total: {{count}}',
        empty: 'No data matched current filters',
        error: 'Error: {{message}}',
      },
      login: {
        title: 'Login Console',
        subtitle: 'Sign in with admin credentials.',
        username: 'Username',
        usernamePlaceholder: 'Enter username',
        password: 'Password',
        passwordPlaceholder: 'Enter password',
        submit: 'Sign in',
        submitting: 'Signing in...',
        failed: 'Login failed: {{message}}',
      },
      dashboard: {
        title: 'Dashboard',
        subtitle: 'Service overview and quick health check.',
        apiHealth: 'API Health',
        cards: {
          events24h: 'Events (24h)',
          alerts24h: 'Alerts (24h)',
          failures24h: 'Failures (24h)',
          successRate24h: 'Webhook Success Rate (24h)',
          p95Latency24h: 'Processing P95 (ms)',
        },
        trendTitle: '24h Trend',
      },
      events: {
        title: 'Events',
        subtitle: 'Browse webhook event stream with filters.',
        filters: {
          eventType: 'Event Type',
          action: 'Action',
          eventTypePlaceholder: 'issues / pull_request',
          actionPlaceholder: 'opened / edited / closed',
        },
        table: {
          id: 'ID',
          type: 'Type',
          action: 'Action',
          repository: 'Repository',
          sender: 'Sender',
          receivedAt: 'Received At',
        },
      },
      alerts: {
        title: 'Alerts',
        subtitle: 'Review matched rule suggestions and reasons.',
        filters: {
          eventType: 'Event Type',
          action: 'Action',
          suggestionType: 'Suggestion Type',
          eventTypePlaceholder: 'issues / pull_request',
          actionPlaceholder: 'opened / edited / closed',
          suggestionTypePlaceholder: 'label / comment',
        },
        table: {
          delivery: 'Delivery',
          type: 'Type',
          action: 'Action',
          suggestionType: 'Suggestion Type',
          suggestionValue: 'Suggestion Value',
          ruleMatched: 'Rule Matched',
          reason: 'Reason',
          repository: 'Repository',
          sender: 'Sender',
          createdAt: 'Created At',
          manageRule: 'Manage Rule',
          goRules: 'Go to Rules',
        },
      },
      failures: {
        title: 'Failures',
        subtitle: 'Inspect failed action executions for retry and incident analysis.',
      },
      audit: {
        title: 'Audit Logs',
        subtitle: 'Track rule changes and key operations with actor/action filters.',
      },
      rules: {
        title: 'Rules',
        subtitle: 'Manage matching rules and control whether they are active.',
        create: {
          title: 'Create Rule',
          eventType: 'Event Type',
          keyword: 'Keyword',
          keywordPlaceholder: 'e.g. urgent',
          suggestionType: 'Suggestion Type',
          suggestionValue: 'Suggestion Value',
          suggestionValuePlaceholder: 'e.g. P0 or Please provide reproduction steps',
          reason: 'Reason',
          reasonPlaceholder: 'e.g. Prioritize high-severity reports',
          active: 'Activate immediately after creation',
          submit: 'Create Rule',
          creating: 'Creating...',
        },
        filters: {
          eventType: 'Event Type',
          eventTypePlaceholder: 'issues / pull_request',
          keyword: 'Keyword',
          keywordPlaceholder: 'fuzzy match by keyword',
          activeOnly: 'Active only',
          prefilledHint: 'Filters were prefilled from alert context. You can adjust and update rules now.',
        },
        table: {
          eventType: 'Event Type',
          keyword: 'Keyword',
          suggestionType: 'Suggestion Type',
          suggestionValue: 'Suggestion Value',
          reason: 'Reason',
          active: 'Status',
          createdAt: 'Created At',
          action: 'Action',
          enable: 'Enable',
          disable: 'Disable',
          updating: 'Updating...',
        },
        status: {
          active: 'Active',
          inactive: 'Inactive',
        },
      },
      lang: {
        label: 'Language',
        zhCN: '中文',
        en: 'English',
      },
    },
  },
}

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'zh-CN',
    supportedLngs: ['zh-CN', 'en'],
    interpolation: {
      escapeValue: false,
    },
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage'],
      lookupLocalStorage: 'mf_lang',
    },
  })

export default i18n

